/* latin */
@font-face {
  font-family: "Necto Mono";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url("../fonts/Necto_Mono/NectoMono-Regular.otf");
}

/* latin */
@font-face {
  font-family: "Inconsolata";
  font-style: normal;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url("../fonts/Inconsolata/static/Inconsolata/Inconsolata-Regular.ttf");
}

/* latin */
@font-face {
  font-family: "Inconsolata";
  font-style: normal;
  font-weight: 700;
  font-stretch: 100%;
  font-display: swap;
  src: url("../fonts/Inconsolata/static/Inconsolata/Inconsolata-Bold.ttf");
}

/* latin */
@font-face {
  font-family: "Space Mono";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url("../fonts/Space_Mono/SpaceMono-Regular.ttf");
}

/* latin */
@font-face {
  font-family: "Space Mono";
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url("../fonts/Space_Mono/SpaceMono-Bold.ttf");
}

/* latin */
@font-face {
  font-family: "Work Sans";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url("../fonts/Work_Sans/static/WorkSans-Regular.ttf");
}

/* latin */
@font-face {
  font-family: "Work Sans";
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url("../fonts/Work_Sans/static/WorkSans-Bold.ttf");
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Lock the page frame â€” only internal panels should scroll */
html, body, #app {
  overscroll-behavior: none;
  overflow: hidden;
  height: 100%;
}

@supports (height: 100dvh) {
  #app {
    height: 100dvh;
  }
}

/* Theme color accents - using Yarn Spinner colors... */
:root {
  --accent-primary: #4C8962;
  --accent-secondary: #7E3E62;

  /* Warm backgrounds */
  --background: hsl(40 20% 99%);
  --foreground: hsl(35 15% 15%);
  --card: hsl(40 25% 98%);
  --card-foreground: hsl(35 15% 15%);
  --popover: hsl(40 20% 99%);
  --popover-foreground: hsl(35 15% 15%);

  /* Brand colors */
  --primary: hsl(142 50% 36%);
  --primary-foreground: hsl(0 0% 100%);
  --secondary: hsl(330 35% 40%);
  --secondary-foreground: hsl(0 0% 100%);

  /* Warm grays */
  --muted: hsl(40 15% 96%);
  --muted-foreground: hsl(35 10% 45%);
  --accent: hsl(40 20% 95%);
  --accent-foreground: hsl(35 15% 15%);

  /* Feedback colors */
  --destructive: hsl(0 72% 55%);
  --destructive-foreground: hsl(0 0% 98%);

  /* Warm borders */
  --border: hsl(40 12% 88%);
  --input: hsl(40 12% 88%);
  --ring: hsl(142 50% 36%);
  --radius: 0.5rem;

  /* Shadows - warm tones? I guess */
  --shadow-sm: 0 1px 2px hsla(35, 20%, 20%, 0.04);
  --shadow-md: 0 4px 6px -1px hsla(35, 20%, 20%, 0.06), 0 2px 4px -2px hsla(35, 20%, 20%, 0.05);
  --shadow-lg: 0 10px 15px -3px hsla(35, 20%, 20%, 0.08), 0 4px 6px -4px hsla(35, 20%, 20%, 0.05);
  --shadow-glow-green: 0 0 20px hsla(142, 50%, 36%, 0.2);
  --shadow-glow-purple: 0 0 20px hsla(330, 35%, 40%, 0.2);
}

.dark {
  --accent-primary: #7E3E62;
  --accent-secondary: #4C8962;

  /* Warm dark backgrounds? */
  --background: hsl(30 10% 8%);
  --foreground: hsl(40 15% 92%);
  --card: hsl(30 10% 10%);
  --card-foreground: hsl(40 15% 92%);
  --popover: hsl(30 10% 10%);
  --popover-foreground: hsl(40 15% 92%);

  /* Brand colors */
  --primary: hsl(142 45% 42%);
  --primary-foreground: hsl(0 0% 100%);
  --secondary: hsl(330 35% 50%);
  --secondary-foreground: hsl(0 0% 100%);

  /* Warm dark grays */
  --muted: hsl(30 8% 14%);
  --muted-foreground: hsl(35 10% 60%);
  --accent: hsl(30 10% 16%);
  --accent-foreground: hsl(40 15% 92%);

  /* Feedback colors */
  --destructive: hsl(0 65% 45%);
  --destructive-foreground: hsl(0 0% 98%);

  /* Warm dark borders */
  --border: hsl(30 8% 18%);
  --input: hsl(30 8% 18%);
  --ring: hsl(142 45% 42%);

  /* Shadows - dark mode */
  --shadow-sm: 0 1px 2px hsla(0, 0%, 0%, 0.15);
  --shadow-md: 0 4px 6px -1px hsla(0, 0%, 0%, 0.2), 0 2px 4px -2px hsla(0, 0%, 0%, 0.15);
  --shadow-lg: 0 10px 15px -3px hsla(0, 0%, 0%, 0.25), 0 4px 6px -4px hsla(0, 0%, 0%, 0.15);
  --shadow-glow-green: 0 0 25px hsla(142, 50%, 45%, 0.25);
  --shadow-glow-purple: 0 0 25px hsla(330, 35%, 50%, 0.25);
}

body.embedded {
  zoom: 0.8;
}

/* niiiiice animations for the presenter */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}


/* Screen shake for <<screen_shake>> command */
@keyframes yarnShake {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(calc(var(--shake-px, 5px) * -1), var(--shake-px, 5px)); }
  20% { transform: translate(var(--shake-px, 5px), calc(var(--shake-px, 5px) * -1)); }
  30% { transform: translate(calc(var(--shake-px, 5px) * -0.6), calc(var(--shake-px, 5px) * 0.6)); }
  40% { transform: translate(calc(var(--shake-px, 5px) * 0.8), var(--shake-px, 5px)); }
  50% { transform: translate(calc(var(--shake-px, 5px) * -0.4), calc(var(--shake-px, 5px) * -0.8)); }
  60% { transform: translate(calc(var(--shake-px, 5px) * 0.6), calc(var(--shake-px, 5px) * 0.4)); }
  70% { transform: translate(calc(var(--shake-px, 5px) * -0.8), calc(var(--shake-px, 5px) * -0.2)); }
  80% { transform: translate(calc(var(--shake-px, 5px) * 0.4), calc(var(--shake-px, 5px) * 0.6)); }
  90% { transform: translate(calc(var(--shake-px, 5px) * -0.2), calc(var(--shake-px, 5px) * -0.4)); }
}

.yarn-shake {
  animation: yarnShake 0.4s ease-out;
}

/* Per-character wave (vertical bobbing, staggered by char index) */
@keyframes yarnWave {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-0.2em); }
}
.yarn-wave-char {
  display: inline-block;
  animation: yarnWave 1.5s ease-in-out infinite;
}

/* Per-character shake (jittery movement) */
@keyframes yarnTextShake {
  0%   { transform: translate(0, 0); }
  25%  { transform: translate(-1px, 1px); }
  50%  { transform: translate(1px, -1px); }
  75%  { transform: translate(-1px, -1px); }
  100% { transform: translate(0, 0); }
}
.yarn-text-shake-char {
  display: inline-block;
  animation: yarnTextShake 0.3s ease-in-out infinite;
}

/* Fade overlay for <<fade_out>> / <<fade_in>> commands */
.yarn-fade-overlay {
  position: absolute;
  inset: 0;
  background: black;
  pointer-events: none;
  opacity: 0;
  z-index: 50;
}

.yarn-fade-overlay.fade-out {
  animation: yarnFadeOut var(--fade-duration, 0.5s) ease-in-out forwards;
}

.yarn-fade-overlay.fade-in {
  animation: yarnFadeIn var(--fade-duration, 0.5s) ease-in-out forwards;
}

.yarn-fade-overlay.faded {
  opacity: 1;
}

@keyframes yarnFadeOut {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes yarnFadeIn {
  from { opacity: 1; }
  to   { opacity: 0; }
}

/* Wait progress bar for <<wait>> command */
@keyframes waitProgress {
  from { transform: scaleX(0); }
  to { transform: scaleX(1); }
}

/* Dark Mode Overrides - Use CodeMirror dark background for whole app */
.dark {
  background-color: #4C434F;
}

.dark body {
  background-color: #4C434F;
}

/* Dice overlay for 3D dice effects */
.dice-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 9999;
  overflow: hidden;
}
.dice-overlay canvas {
  width: 100% !important;
  height: 100% !important;
  pointer-events: none !important;
}
